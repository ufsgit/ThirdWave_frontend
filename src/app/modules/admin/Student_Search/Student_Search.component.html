<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>                                     


<div *ngIf="issLoading" class="overlay" 

style="margin-top: 21%;margin-left:46% ;
background-color: transparent;"
[style.left.px]="spinleft">
	
	

    <img src="/assets/img/spinner.gif" width="100px" >

</div>
<div  id='Bottomdiv'></div>
<div *ngIf="main_View" class="main-content new-margin-T" [hidden]="Search_Div">
<div class=" right-sec">
    <!-- <div class="row"> -->
      <div class="col-md-12 mt-2" style="border: 1">
        <div class="dt-card mb-0 pb-1 pt-4">         
            <div class="dt-card__body">
                <div class="mb-0">           
                <div class="form-row">
                  <label class="col-md-0 col-sm-0 col-form-label text-sm-right">Name/Mobile/Email</label>
                  <div class="col-md-3 col-sm-3 mb-2">
                      <input type="text" class="form-control" [(ngModel)]="Search_PhoneNumber" placeholder=" " (keyup.enter)="Search_Lead_button(event)">
                     
                  </div>
                  
                  
                  <div class="col-md-2 col-sm-2 mt-0">    
                    <button id="Registration_Report"  (click)="Search_Lead_button()" mat-raised-button type="submit" class="other-button-style pull-left mr-1 ">Search</button> 
                    
                      </div>
    </div>
   </div>
   </div>
   </div>
   </div>
    
 



    
<div class="col-md-12 mt-2" style="border: 1">
  <div class="dt-card mb-0 pb-1" style="background-color: #ffff;">
  <!-- <div class="card card-plain"> -->
    <div class="card-body card-body-for-searchedit-lead-section">
    <div class="table-responsive" style="height: 700px;overflow: scroll;">
    <table class="table table-hover colour-change-title-searchsection-table heading-styles-as-gmail-format" style="width: 100% !important;">
      <thead>
        <!-- <th>
          No
        </th> -->
       
        <th style="position: sticky; top: 0;"  >
          Follow Up On
        </th>
        <th style="width: 200px; position: sticky; top: 0;">
          Student Name
        </th>
        <th style="position: sticky; top: 0;">
          Email
        </th>        
        <th style="position: sticky; top: 0;">
          Mobile
        </th>
        <!-- <th>
         Alterantive Mobile
        </th>
        <th>
          Whatsapp 
         </th> -->

        <!-- <th>
        File No
        </th> -->
        <th style="position: sticky; top: 0;">
        Branch
        </th>
       
        <th style="position: sticky; top: 0;">
        Department
        </th>
        <th style="position: sticky; top: 0;">
          Status
        </th>
        <th style="position: sticky; top: 0;">
        To Staff
        </th>
        <th style="position: sticky; top: 0;">
          Created On
        </th>
        <th style="position: sticky; top: 0;">
          Created By
        </th>
        <th style="position: sticky; top: 0;">
          Enrolled By
        </th>
        <th style="position: sticky; top: 0;">
          Enrolled On
        </th>
        <th class="change-width-header-table-remar" style="width: 200px; position: sticky; top: 0;">
          Remark
        </th>
        <!-- <th>
          Edit
        </th> -->
      </thead>
      <tbody *ngFor="let Lead of Student_Data_Search; let i = index">
        <tr>
          <!-- <td>
            {{i+1}}
          </td> -->
         
          <td >
  
            <div style="width: 100px;"><span [hidden]="Lead.FollowUp==0">
              {{Lead["Next_FollowUp_Date"]}}</span></div>
            </td>
            <td>{{ Lead["Student_Name"] }}</td>
          <td>
            {{Lead["Email"]}}
            </td>
          <td>
          {{Lead["Phone_Number"]}}
          </td>
          <!-- <td>
            {{Lead["Alternative_Phone_Number"]}}
            </td>
            <td>
              {{Lead["Whatsapp"]}}
              </td> -->

          <!-- <td>
          {{Lead["File_No"]}}
          </td> -->
          <td>
          {{Lead["Branch_Name"]}}
          </td>
        
          <td>
          {{Lead["Department_Name"]}}
          </td>
          <td>
          {{Lead["Department_Status_Name"]}}
          </td>
          <td style="width: 150px !important;">
            <div style="width: 100px;">
          {{Lead["User_Details_Name"]}}
        </div>
          </td>
          <td style="width: 120px !important;">
            <div style="width: 100px;">
            {{Lead["Entry_Date"]}}
          </div>
            </td>
            <td style="width: 120px !important;">
              {{Lead["Created_By_Name"]}}
              </td>
          <td style="width: 120px !important;">
            <div ><span [hidden]="Lead.Is_Registered==0">    
          {{Lead["Registered_By_Name"]}}
        </span></div>
          </td>
          <td style="width: 120px !important;">   
            <div style="width: 100px;">          
              {{Lead["Registered_On"]}} 
              </div>
            </td>
            <td>
              {{Lead["Remark"] | slice:0:50}}
            </td>
             <!-- <td>
      <button _ngcontent-jry-c5="" _ngcontent-gxp-c5="" aria-describedby="cdk-describedby-message-0" cdk-describedby-host="" class="aligyn-crect-deprtnment btn btn-primary btn-link btn-sm btn-just-icon mat-raised-button" mat-raised-button="" mattooltip="Edit Task" ng-reflect-message="Edit Task" ng-reflect-position="above" type="button"><span class="mat-button-wrapper"><span _ngcontent-jry-c5="" class="mat-button-wrapper"><i _ngcontent-jry-c5="" _ngcontent-gxp-c5="" class="material-icons" (click)="Edit_Lead(Lead.Lead_Id,i)" >edit</i></span><div _ngcontent-jry-c5="" class="mat-button-ripple mat-ripple" matripple="" ng-reflect-centered="false" ng-reflect-disabled="false" ng-reflect-trigger="[object HTMLButtonElement]"></div><div _ngcontent-jry-c5="" class="mat-button-focus-overlay"></div></span><div class="mat-button-ripple mat-ripple" matripple="" ng-reflect-centered="false" ng-reflect-disabled="false" ng-reflect-trigger="[object HTMLButtonElement]"></div><div class="mat-button-focus-overlay" ></div></button>
  </td> -->
        </tr>
        </tbody>
      </table>
    </div>
    </div>
  <!-- </div> -->
  </div>
</div>

</div>  
</div>
<!-- <div *ngIf="Show_FollowUp" class="main-content tocrectwolediv-followups-tab-wolepage mt-2 pl-7" style="background-color: #fff;"> 
  <div class="container-fluid1" >

    <div class="dt-card1 mt-2">
      <div class="dt-card__header">
          <div class="dt-card__heading">
              <h3 class="dt-card__title min-w-150  border-bottom">
             
                  <i class="icon icon-users icon-fw icon-lg"></i><b>FollowUp Details</b></h3>
          </div>
      </div>
      <div class="dt-card__body  mt-2 mb-2">
          <div class="mb-0">
                 <div class="form-row">
                  <label class="col-md-2 col-sm-2 col-form-label text-sm-right">Branch<span style="color:#ef071e; font-size: 22px; vertical-align: -webkit-baseline-middle;">*</span></label>
                  <div class="col-md-3 col-sm-3 mb-1">
                      <input type="text" class="form-control" [matAutocomplete]="auto8" name="FollowUp_Branch_" [(ngModel)]="FollowUp_Branch_" (click)="Search_Branch_Typeahead($event)" (keyup)="Search_Branch_Typeahead($event)" (ngModelChange)="Branch_Change()" placeholder=" ">
                  </div>
                  <mat-autocomplete #auto8="matAutocomplete" [displayWith]="display_Branch">
                  <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
                  <ng-container *ngIf="!issLoading">                          
                  <mat-option *ngFor="let Branch1 of Followup_Branch_Data" [value]="Branch1">
                      <span>{{Branch1.Branch_Name}}</span></mat-option>
                   </ng-container>
                  </mat-autocomplete>  
             <div class="col-md-1 col-sm-1"></div>                  
                  <label class="col-md-2 col-sm-2 col-form-label text-sm-right">Department<span style="color:#ef071e; font-size: 22px; vertical-align: -webkit-baseline-middle;">*</span></label>
                  <div class="col-md-3 col-sm-3 mb-1">
                  <input type="text" [matAutocomplete]="auto1"  class="form-control" name="FollowUp_Department_" [(ngModel)]="FollowUp_Department_" (click)="Search_Branch_Department_Typeahead($event)"   (ngModelChange)="Department_Change()"/>
                  </div>
                  <mat-autocomplete #auto1="matAutocomplete" [displayWith]="display_Department">
                      <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
                      <ng-container *ngIf="!issLoading">
                      <mat-option *ngFor="let Dept of Followup_Department_Data" [value]="Dept">
                      <span (click)="Focus_It($event)">{{Dept.Department_Name}}</span>
                      </mat-option>
                      </ng-container>
                      </mat-autocomplete>
              </div>
              <div class="form-row">
                  <label class="col-md-2 col-sm-2 col-form-label text-sm-right">Status<span style="color:#ef071e; font-size: 22px; vertical-align: -webkit-baseline-middle;">*</span></label>
                  <div class="col-md-3 col-sm-3 mb-1">
                  <input type="text"  class="form-control"  id="Followup_Status" name="Followup_Status"  [matAutocomplete]="auto_FollowUp_Status" [(ngModel)]="FollowUp_Status_" (click)="Search_Department_Status_Typeahead($event)" />
                    </div>  
                    <mat-autocomplete #auto_FollowUp_Status="matAutocomplete" [displayWith]="display_Followup_Status">
                      <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
                      <ng-container *ngIf="!issLoading">
                      <mat-option *ngFor="let Status of Followup_Status_Data" [value]="Status">
                      <span>{{Status.Department_Status_Name}}</span>
                      </mat-option>
                      </ng-container>
                      </mat-autocomplete>  
                  <div class="col-md-1 col-sm-1"></div>
                  <label class="col-md-2 col-sm-2 col-form-label text-sm-right">To staff<span style="color:#ef071e; font-size: 22px; vertical-align: -webkit-baseline-middle;">*</span></label>
                  <div class="col-md-3 col-sm-3 mb-1">
                  <input type="text" class="form-control" [matAutocomplete]="auto_Followup_Users" name="Followup_Users_" [(ngModel)]="Followup_Users_" (click)="Search_Department_User_Typeahead($event)"/>
                  </div>
                  <mat-autocomplete #auto_Followup_Users="matAutocomplete" [displayWith]="display_Followup_Users">
                      <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
                      <ng-container *ngIf="!issLoading">
                      <mat-option *ngFor="let Users of Followup_Users_Data" [value]="Users">
                      <span>{{Users.User_Details_Name}}</span>
                      </mat-option>
                      </ng-container>
                      </mat-autocomplete>
              </div>
              <div class="form-row">
                  <label class="col-md-2 col-sm-2 col-form-label text-sm-right">FollowUp on</label>                          
                  <div class="col-md-3 col-sm-3 mb-1">
                      <input type="date" class="form-control" placeholder="Followup date" name="FollowUp_.Next_FollowUp_Date" [(ngModel)]="FollowUp_.Next_FollowUp_Date" >
                     
                  </div>                
              </div>
              <div class="form-row">
                  <label class="col-md-2 col-sm-2 col-form-label text-sm-right">Remark<span style="color:#ef071e; font-size: 22px; vertical-align: -webkit-baseline-middle;">*</span></label>                          
                  <div class="col-md-9 col-sm-10 mb-1">
                  
                      <input type="text" [matAutocomplete]="autore" [(ngModel)]="Remarks_" name="Remarks_" maxlength="4000"
                      (click)="Remarks_Typeahead($event)" (input)="Remarks_Typeahead($event)"  class="form-control"/>
                  </div>  
                  <mat-autocomplete #autore="matAutocomplete" [displayWith]="display_Remarks">
                      <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
                      <ng-container *ngIf="!issLoading">
                      <mat-option *ngFor="let Remarks_1  of Remarks_Data" [value]="Remarks_1">
                      <span>{{Remarks_1.Remarks_Name}}</span>
                      </mat-option>
                      </ng-container>
                      </mat-autocomplete>            
              </div>      
                          
          </div>
          <div class="row col-md-12 butn-crct-alghn-dwnwrd-users-srch-new spcing-crect-input-bxes-wole-divs ml-0">
            <div class="col-md-11 spcing-crect-input-bxes-wole-divs">
                <button mat-raised-button type="submit" [hidden]="Student_Save==false" id="Save_Button"  class="other-button-style btnflot pull-right mr-0" (click)="Save_Student_Report_FollowUp()">Save</button>
                <button mat-raised-button type="submit" class="other-button-style btnflot pull-right mr-1" (click)="Close_Click()">Close</button>
            </div>
        </div>   
      </div>
  </div>
  <hr>

  
  </div>
  </div> -->
   

  <!-- <div class="col-md-12 " *ngIf="Show_FollowUp">
    <div class="container-fluidprofile">
    <div class="dt-card mt-2">
        <div class="dt-card__header">
            <div class="dt-card__heading">
           
                 <h3><i class="icon icon-users icon-fw icon-lg"></i><b style="margin-bottom:20px;">FollowUp Details</b></h3>
                           <div classs="mb-2"></div>
                           <hr class="lineheader">
            </div>
        </div>
        <div class="dt-card__body" style="margin-left: 9px;">
            <div class="mb-0">
                   <div class="form-row">
                    <label class="col-md-2 col-sm-2 col-form-label text-sm-right">Branch<span style="color:#ef071e; font-size: 22px; vertical-align: -webkit-baseline-middle;">*</span></label>
                    <div class="col-md-3 col-sm-3 mb-1">
                        <input type="text" class="form-control" [matAutocomplete]="auto8" name="FollowUp_Branch_" [(ngModel)]="FollowUp_Branch_" (click)="Search_Branch_Typeahead($event)" (keyup)="Search_Branch_Typeahead($event)" (ngModelChange)="Branch_Change()" placeholder=" ">
                    </div>
                    <mat-autocomplete #auto8="matAutocomplete" [displayWith]="display_Branch">
                    <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
                    <ng-container *ngIf="!issLoading">                          
                    <mat-option *ngFor="let Branch1 of Followup_Branch_Data" [value]="Branch1">
                        <span>{{Branch1.Branch_Name}}</span></mat-option>
                     </ng-container>
                    </mat-autocomplete>  
               <div class="col-md-1 col-sm-1"></div>                  
                    <label class="col-md-2 col-sm-2 col-form-label text-sm-right">Department<span style="color:#ef071e; font-size: 22px; vertical-align: -webkit-baseline-middle;">*</span></label>
                    <div class="col-md-3 col-sm-3 mb-1">
                    <input type="text" [matAutocomplete]="auto1"  class="form-control" name="FollowUp_Department_" [(ngModel)]="FollowUp_Department_" (click)="Search_Branch_Department_Typeahead($event)"   (ngModelChange)="Department_Change()"/>
                    </div>
                    <mat-autocomplete #auto1="matAutocomplete" [displayWith]="display_Department">
                        <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
                        <ng-container *ngIf="!issLoading">
                        <mat-option *ngFor="let Dept of Followup_Department_Data" [value]="Dept">
                        <span (click)="Focus_It($event)">{{Dept.Department_Name}}</span>
                        </mat-option>
                        </ng-container>
                        </mat-autocomplete>
                </div>
                <div class="form-row">
                    <label class="col-md-2 col-sm-2 col-form-label text-sm-right">Status<span style="color:#ef071e; font-size: 22px; vertical-align: -webkit-baseline-middle;">*</span></label>
                    <div class="col-md-3 col-sm-3 mb-1">
                    <input type="text"  class="form-control"  id="Followup_Status" name="Followup_Status"  [matAutocomplete]="auto_FollowUp_Status" [(ngModel)]="FollowUp_Status_" (click)="Search_Department_Status_Typeahead($event)" />
                      </div>  
                      <mat-autocomplete #auto_FollowUp_Status="matAutocomplete" [displayWith]="display_Followup_Status">
                        <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
                        <ng-container *ngIf="!issLoading">
                        <mat-option *ngFor="let Status of Followup_Status_Data" [value]="Status">
                        <span>{{Status.Department_Status_Name}}</span>
                        </mat-option>
                        </ng-container>
                        </mat-autocomplete>  
                    <div class="col-md-1 col-sm-1"></div>
                    <label class="col-md-2 col-sm-2 col-form-label text-sm-right">To staff<span style="color:#ef071e; font-size: 22px; vertical-align: -webkit-baseline-middle;">*</span></label>
                    <div class="col-md-3 col-sm-3 mb-1">
                    <input type="text" class="form-control" [matAutocomplete]="auto_Followup_Users" name="Followup_Users_" [(ngModel)]="Followup_Users_" (click)="Search_Department_User_Typeahead($event)"/>
                    </div>
                    <mat-autocomplete #auto_Followup_Users="matAutocomplete" [displayWith]="display_Followup_Users">
                        <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
                        <ng-container *ngIf="!issLoading">
                        <mat-option *ngFor="let Users of Followup_Users_Data" [value]="Users">
                        <span>{{Users.User_Details_Name}}</span>
                        </mat-option>
                        </ng-container>
                        </mat-autocomplete>
                </div>
                <div class="form-row" [hidden]="Next_FollowUp_Date_Visible">
                    <label class="col-md-2 col-sm-2 col-form-label text-sm-right">FollowUp on</label>                          
                    <div class="col-md-3 col-sm-3 mb-1">
                       
                        <mat-form-field class="col-md-8 form-control mrgn-crct-input-text-div-tre-prt-sles1 mrgn-crct-input-bx-sls-mstr-rspnsv-nw-sctn" 
        style="height: 40px;padding-top: 7px!important;">
            <input matInput [matDatepicker]="dp1" placeholder="" [(ngModel)]="FollowUp_.Next_FollowUp_Date" name="FollowUp_.Next_FollowUp_Date"  > 
            <mat-datepicker-toggle matSuffix [for]="dp1"></mat-datepicker-toggle>
            <mat-datepicker #dp1></mat-datepicker>
            </mat-form-field>
                        
                    </div>                
                </div>
                <div class="form-row">
                    <label class="col-md-2 col-sm-2 col-form-label text-sm-right">Remark<span style="color:#ef071e; font-size: 22px; vertical-align: -webkit-baseline-middle;">*</span></label>                          
                    <div class="col-md-9 col-sm-10 mb-1">
                       
                        <input type="text" [matAutocomplete]="autore" [(ngModel)]="Remarks_" name="Remarks_" maxlength="4000"
                        (click)="Remarks_Typeahead($event)" (input)="Remarks_Typeahead($event)"  class="form-control"/>
                    </div>  
                    <mat-autocomplete #autore="matAutocomplete" [displayWith]="display_Remarks">
                        <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
                        <ng-container *ngIf="!issLoading">
                        <mat-option *ngFor="let Remarks_1  of Remarks_Data" [value]="Remarks_1">
                        <span>{{Remarks_1.Remarks_Name}}</span>
                        </mat-option>
                        </ng-container>
                        </mat-autocomplete>            
                </div>  
                
                <div class="row col-md-12 butn-crct-alghn-dwnwrd-users-srch-new spcing-crect-input-bxes-wole-divs ml-0">
                  <div class="col-md-11 spcing-crect-input-bxes-wole-divs">
                      <button mat-raised-button type="submit" [hidden]="Student_Save==false" id="Save_Button"  class="save-button-style btnflot pull-right mr-0" (click)="Save_Student_Report_FollowUp()">Save</button>
                      <button mat-raised-button type="submit" class="other-button-style btnflot pull-right mr-1" (click)="Close_Click()">Close</button>
                      <button mat-raised-button  class="other-button-style btnflot mr-1"  id="Followup_History" (click)="Followup_History()" type="submit">History</button>
                  </div>
              </div>  
            </div>
        </div>
    </div>
   
    </div>
   

</div> -->



<div class="col-md-12 pl-0 pr-0 mt-0 mb-2" *ngIf="Show_FollowUp">
  <div class="container-fluidprofile lbl-fond">
    <div class="dt-card mt-2" style="padding-top: 55px;">
      <div class="dt-card__header">
        <div class="dt-card__heading">
          <!-- <h3 class="dt-card__title min-w-150  border-bottom">
                            <i class="icon icon-users icon-fw icon-lg"></i><b>Followup Details</b></h3> -->
          <h3 style="margin-top: 2px;">
            <!-- <i class="icon icon-users icon-fw icon-lg">school</i> -->
            
            <i
              class="icon icon-users icon-fw icon-lg material-icons mr-2"
              style="color: #586ae9"
            >
              calendar_month </i
            >
            
            <b style="margin-bottom: 20px;color: #3f6ad8;"
              >Follow Up Details </b
            >
            <!-- <b style="margin-bottom: 20px; color: #0db195;"
              >{{ Student_Name }}</b
            > -->
          </h3>
          <div class="mb-2"></div>
          <hr class="lineheader" />
        </div>
      </div>
      <div class="dt-card__body mt-3">
        <div class="mb-0">
          
          <div class="form-row">
            <label
              class="col-md-2 col-lg-1 col-form-label text-sm-right"
              >Status<span
                style="
                  color: #ef071e;
                  font-size: 22px;
                  vertical-align: -webkit-baseline-middle;
                "
                >*</span
              ></label
            >
            <div class="col-md-4 col-lg-5 mb-1">
              <input
                type="text"
                class="form-control"
                id="Followup_Status"
                name="Followup_Status"
                [matAutocomplete]="auto_FollowUp_Status1"
                [(ngModel)]="FollowUp_Status_"
                (click)="Search_Department_Status_Typeahead($event)"
                (ngModelChange)="Status_Change()"
              />
            </div>
            <mat-autocomplete
              #auto_FollowUp_Status1="matAutocomplete"
              [displayWith]="display_Followup_Status"
            >
              <mat-option *ngIf="issLoading"
                ><mat-spinner diameter="500"></mat-spinner
              ></mat-option>
              <ng-container *ngIf="!issLoading">
                <mat-option
                  *ngFor="let Status1 of Followup_Status_Data"
                  [value]="Status1"
                >
                  <span>{{ Status1.Department_Status_Name }}</span>
                </mat-option>
              </ng-container>
            </mat-autocomplete>




            <label
              class="col-md-2 col-lg-1 col-form-label text-sm-right"
              >Sub Status<span
                style="
                  color: #ef071e;
                  font-size: 22px;
                  vertical-align: -webkit-baseline-middle;
                "
                >*</span
              ></label
            >
            <div class="col-md-4 col-lg-5 mb-1">
              <input
                type="text"
                class="form-control"
                id="FollowUp_Sub_Status_"
                name="FollowUp_Sub_Status_"
                [matAutocomplete]="auto_sub_Status"
                [(ngModel)]="FollowUp_Sub_Status_"
                (click)="Search_Substatus_Typeahead($event)"
                
              />
            </div>
            <mat-autocomplete
              #auto_sub_Status="matAutocomplete"
              [displayWith]="display_Sub_Status"
            >
              <mat-option *ngIf="issLoading"
                ><mat-spinner diameter="500"></mat-spinner
              ></mat-option>
              <ng-container *ngIf="!issLoading">
                <mat-option
                  *ngFor="let Status of Followup_Substatus_Data_Filter"
                  [value]="Status"
                  (click)="datepickershow(Status)"
                >
                  <span  >{{ Status.Sub_Status_Name }}</span>
                </mat-option>
              </ng-container>
            </mat-autocomplete>

            
            
            <label
              class="col-md-2 col-lg-1 col-form-label text-sm-right"
              >To staff<span
                style="
                  color: #ef071e;
                  font-size: 22px;
                  vertical-align: -webkit-baseline-middle;
                "
                >*</span
              ></label
            >
            <div class="col-md-4 col-lg-5 mb-1">
              <input
                type="text"
                class="form-control"
                [matAutocomplete]="auto_Followup_Users"
                name="Followup_Users_"
                [(ngModel)]="Followup_Users_"
                (click)="Search_Department_User_Typeahead($event)"
              />
            </div>
            <mat-autocomplete
              #auto_Followup_Users="matAutocomplete"
              [displayWith]="display_Followup_Users"
            >
              <mat-option *ngIf="issLoading"
                ><mat-spinner diameter="500"></mat-spinner
              ></mat-option>
              <ng-container *ngIf="!issLoading">
                <mat-option
                  *ngFor="let Users of Followup_Users_Data"
                  [value]="Users"
                >
                  <span>{{ Users.User_Details_Name }}</span>
                </mat-option>
              </ng-container>
            </mat-autocomplete>
          </div>
          <div class="form-row"  >
            <label
              class="col-md-2 col-lg-1 col-form-label text-sm-right" *ngIf="Followup_sub == 1"
              >Follow Up on</label
            >
            <div class="col-md-4 col-lg-5 mb-1"  *ngIf="Followup_sub == 1">
              <!-- <input type="date" class="form-control" placeholder="Followup date" name="FollowUp_.Next_FollowUp_Date" [(ngModel)]="FollowUp_.Next_FollowUp_Date" > -->
              <mat-form-field
                class=" form-control mrgn-crct-input-text-div-tre-prt-sles1"
                style=" padding-top:9px !important"
              >
                <input
                  matInput
                  [matDatepicker]="dp11"
                  placeholder=""
                  [(ngModel)]="FollowUp_.Next_FollowUp_Date"
                  name="FollowUp_.Next_FollowUp_Date"
                />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="dp11"
                ></mat-datepicker-toggle>
                <mat-datepicker #dp11></mat-datepicker>
              </mat-form-field>

              <!-- <input matInput [matDatepicker]="dpfollowupDate" class="form-control" placeholder="" name="FollowUp_.Next_FollowUp_Date" [(ngModel)]="FollowUp_.Next_FollowUp_Date"  >
                                <mat-datepicker-toggle matSuffix [for]="dpfollowupDate"></mat-datepicker-toggle>
                                <mat-datepicker #dpfollowupDate></mat-datepicker> -->
            </div>

            

            <label
              class="col-md-2 col-lg-1 col-form-label text-sm-right"
              >Class<span
                style="
                  color: #ef071e;
                  font-size: 22px;
                  vertical-align: -webkit-baseline-middle;
                "
                >*</span
              ></label
            >
            <div class="col-md-4 col-lg-5 mb-1">
              <select
                [(ngModel)]="class_"
                name="class_"
                required
                class="form-control p-0 pl-1"
              >
                <option
                  *ngFor="let class_Data_T of class_Data"
                  [ngValue]="class_Data_T"
                >
                  {{ class_Data_T.Class_Name }}
                </option>
              </select>
            </div>

          </div>







          <div class="form-row" >
            <label
              class="col-md-2 col-lg-1 col-form-label text-sm-right"
              >Remark<span
                style="
                  color: #ef071e;
                  font-size: 22px;
                  vertical-align: -webkit-baseline-middle;
                "
                >*</span
              ></label
            >
            <div class="col-md-10 col-lg-11 mb-1">
              <!-- <input type="text" class="form-control" placeholder="Remark"> -->
              <input
                type="text"
                [matAutocomplete]="autore"
                [(ngModel)]="Remarks_"
                name="Remarks_"
                maxlength="4000"
                (click)="Remarks_Typeahead($event)"
                (input)="Remarks_Typeahead($event)"
                class="form-control"
              />
            </div>
            <mat-autocomplete
              #autore="matAutocomplete"
              [displayWith]="display_Remarks"
            >
              <mat-option *ngIf="issLoading"
                ><mat-spinner diameter="500"></mat-spinner
              ></mat-option>
              <ng-container *ngIf="!issLoading">
                <mat-option
                  *ngFor="let Remarks_1 of Remarks_Data"
                  [value]="Remarks_1"
                >
                  <span>{{ Remarks_1.Remarks_Name }}</span>
                </mat-option>
              </ng-container>
            </mat-autocomplete>

            <div class="row col-md-12 butn-crct-alghn-dwnwrd-users-srch-new spcing-crect-input-bxes-wole-divs ml-0" >
              <div class="col-md-11 spcing-crect-input-bxes-wole-divs" style="margin-left: 103px;">
                  <button mat-raised-button type="submit" [hidden]="Student_Save==false" id="Save_Button"  class="save-button-style btnflot pull-right mr-0" (click)="Save_Student_Report_FollowUp()">Save</button>
                  <button mat-raised-button type="submit" class="other-button-style btnflot pull-right mr-1" style="background-color: red;" (click)="Close_Click()">Close</button>
                  <button mat-raised-button  class="other-button-style btnflot mr-1"  id="Followup_History" (click)="Followup_History()" type="submit">History</button>
                 
              </div>
          </div> 





          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<div class="col-md-12 pl-0" id='Historydiv'  *ngIf="!Show_Followup_History" >
  <div class="container-fluidprofile" >
  <div class="dt-card mt-2">
      <div class="dt-card__header">
          <div class="dt-card__heading">
              <h3><i class="icon icon-users icon-fw icon-lg"></i><b style="margin-bottom:20px;">History</b></h3>
              <div classs="mb-2"></div>
              <hr class="lineheader">
          </div>
      </div>
      <div class="dt-card__body">
          <div class="mb-0">
  <div class="dt-module__content ps-custom-scrollbar" >
      <div class="card-body set-height-scroll-bar-wole-block" >
<!-- <div class="card horizontal "  *ngFor="let History of Followp_History_Data; let i = index" style="background-color:#ffff;" width: 111%; style="height: 150px;">           -->
  <div class="card-stacked mb-2 mt-2"  *ngFor="let History of Followp_History_Data; let i = index" style="background-color:#ffff;width: 300% !important;">
      <div class="card-body pb-0 pt-1"  >
          <div *ngIf="History.Entry_Type==1" class="d-flex flex-wrap mb-0" >
              
                      <div class="d-flex flex-wrap mb-1"  >
                  

                          <div class="pr-3"> <span> <mat-icon class="icon-backgroundfollowup mr-1 text-purple small" style="margin-top: -1px;
                          " >date_range</mat-icon></span></div>
                      <!-- <div class="">   -->
                      <div><span class=" text-dark  mr-2 " style=" width: 150px;margin-left: -19px;" >{{History["Entry_Caption"]}}:</span></div>
                      <div class="pr-3" style=" width: 210px;margin-left: 18px;">On:<span class=" text-dark" >{{History["Entry_Date"]}}</span></div>
                      <!-- <div class="pr-3" style=" width: 600px;">Remark:<span class=" text-dark" >{{History["Remark"]}}</span></div> -->
                      <div class="pr-3" style=" width: 600px;margin-left: 18px;">Remark:<span class=" text-dark" >{{History["Remark"]}}</span></div>
                      <div class="pr-3" style=" width: 250px;margin-left: 18px;">Branch: <span class=" text-dark" >{{History["Branch_Name"]}}</span></div>
                      <div class="pr-3" style=" width: 250px;margin-left: 18px;">Department: <span class=" text-dark" >{{History["Department_Name"]}}</span></div>
                      <div class="pr-3" style=" width: 200px;margin-left: 18px;">Status: <span class=" text-dark" >{{History["Status_Name"]}}</span></div>
                      <div class="pr-3" style=" width: 200px;margin-left: 18px;">Next:<span   [hidden]="History.FollowUp==0" [ngStyle]="{'color':History.FollowUp_Difference > 0 ? 'red':' black' }">{{History["Next_FollowUp_Date"]}}</span></div>
                      <div class="pr-3" style=" width: 260px;margin-left: 18px;">Actual FollowUp Date:<span class=" text-dark" >{{History["Actual_FollowUp_Date"]}}</span></div>
                      <div class="pr-3" style="width: 250px;margin-left: 18px;">To:<span class=" text-dark" >{{History["User_Name"]}}</span></div>
                      <div class="pr-3" style=" width: 200px;margin-left: 18px;">By:<span class=" text-dark" >{{History["By_User_Name"]}}</span></div>
                      
                          <!-- </div> -->
                      <!-- <div class="pr-3">Description : <span >{{Receipt_data_1["Description"]}}</span></div>  -->

                  </div>    
                  <div>
                  
                  </div>

          </div>
              
<div *ngIf="History.Entry_Type==2" class="d-flex flex-wrap mb-0" >
              
<div class="d-flex flex-wrap mb-1"  >
  <div class="pr-3"> <span> <mat-icon class="icon-backgroundfees mr-1 text-blueviolet small" style="margin-top: -1px;
      " >attach_money</mat-icon></span></div>
      
      <div><span class=" text-dark  mr-2 " style=" width: 150px;margin-left: -19px;" >{{History["Entry_Caption"]}}:</span></div>
  <!-- <div class="pr-3"><span class=" text-dark" >{{History["Entry_Caption"]}}:</span></div> -->
  <div class="pr-3" >On:<span class=" text-dark" >{{History["Entry_Date"]}}</span></div>
  <div class="pr-3" style=" width: 250px;padding-left:5%;">Fees: <span class=" text-dark" >{{History["Status_Name"]}}</span></div>
  <div class="pr-3" style=" width: 200px;margin-left: 18px;">Amount:<span class=" text-dark" >{{History["Actual_FollowUp_Date"]}}</span></div>
  
  <div class="pr-3" style=" width:  450px;margin-left: 18px;">Collected By:<span class=" text-dark" >{{History["By_User_Name"]}}</span></div>
  <div class="" style=" width: 200px;margin-left: 18px;">Entered:<span class=" text-dark" >{{History["Next_FollowUp_Date"]}}</span></div>
  <!-- <div class="pr-3" style=" width: 600px;">Description:<span class=" text-dark" >{{History["Remark"]}}</span></div> -->
  <div class="pr-3" style=" width:270px;">Branch: <span class=" text-dark" >{{History["Branch_Name"]}}</span></div>
  <div class="pr-3" style=" width: 600px;margin-left: 18px;">Description:<span class=" text-dark" >{{History["Remark"]}}</span></div>
  
  <!-- <div class="pr-3">FollowUp On:<span   [hidden]="History.FollowUp==0" [ngStyle]="{'color':History.FollowUp_Difference > 0 ? 'red':' black' }">{{History["Next_FollowUp_Date"]}}</span></div> -->
  
  
  <!-- <div class="pr-3">By:<span class=" text-dark" >{{History["By_User_Name"]}}</span></div> -->

  <!-- <div class="pr-3">Description : <span >{{Receipt_data_1["Description"]}}</span></div>  -->

</div>    
<div>

</div>

</div>




  <div *ngIf="History.Entry_Type==3" class="d-flex flex-wrap mb-0" >
              
      <div class="d-flex flex-wrap mb-1"  >
          <div class="pr-3"> <span> <mat-icon class="icon-backgroundcourse mr-1 text-orange small" style="margin-top: -1px;
              " >email</mat-icon></span></div>
              
              <div><span class=" text-dark  mr-2 " style=" width: 150px;margin-left: -19px;" >{{History["Entry_Caption"]}}:</span></div>
          <!-- <div class="pr-3"><span class=" text-dark" >{{History["Entry_Caption"]}}:</span></div> -->
          <div class="pr-3"style=" width:200px;" >On:<span class=" text-dark" >{{History["Entry_Date"]}}</span></div>
          <!-- <div class="pr-3">Description:<span class=" text-dark" >{{History["Remark"]}}</span></div>
          <div class="pr-3">Branch: <span class=" text-dark" >{{History["Branch_Name"]}}</span></div>
          <div class="pr-3">Department: <span class=" text-dark" >{{History["Department_Name"]}}</span></div>
          <div class="pr-3">Fees Name: <span class=" text-dark" >{{History["Status_Name"]}}</span></div> -->
          <!-- <div class="pr-3">FollowUp On:<span   [hidden]="History.FollowUp==0" [ngStyle]="{'color':History.FollowUp_Difference > 0 ? 'red':' black' }">{{History["Next_FollowUp_Date"]}}</span></div> -->
          <!-- <div class="pr-3">Amount:<span class=" text-dark" >{{History["Actual_FollowUp_Date"]}}</span></div> -->
          <div class="pr-3"style=" width:250px;margin-left: 18px;">By:<span class=" text-dark" >{{History["User_Name"]}}</span></div>
          <!-- <div class="pr-3">By:<span class=" text-dark" >{{History["By_User_Name"]}}</span></div> -->

          <!-- <div class="pr-3">Description : <span >{{Receipt_data_1["Description"]}}</span></div>  -->

      </div>    
      <div>
  
      </div>

</div>
<div *ngIf="History.Entry_Type==4" class="d-flex flex-wrap mb-0" >
              
<div class="d-flex flex-wrap mb-1"  >
  <!-- <div class="pr-3"><span class=" text-dark" style="margin-left: -16px">{{History["Entry_Caption"]}}:</span></div> -->
  <div class="pr-3"> <span> <mat-icon class="icon-backgroundreg mr-1 text-green small" style="margin-top: -1px;
      " >beenhere</mat-icon></span></div>
              <div class="pr-3"><span class=" text-dark" style=" width:150px;margin-left: -19px">{{History["Entry_Caption"]}}:</span></div>

  <div class="pr-3"style=" width:200px;"> On:<span class=" text-dark" >{{History["Entry_Date"]}}</span></div>
  <div class="pr-3"style=" width:250px;"> Branch: <span class=" text-dark" >{{History["Branch_Name"]}}</span></div>
  <!-- <div class="pr-3">Description:<span class=" text-dark" >{{History["Remark"]}}</span></div>
  
  <div class="pr-3">Department: <span class=" text-dark" >{{History["Department_Name"]}}</span></div>
  <div class="pr-3">Fees Name: <span class=" text-dark" >{{History["Status_Name"]}}</span></div> -->
  <!-- <div class="pr-3">FollowUp On:<span   [hidden]="History.FollowUp==0" [ngStyle]="{'color':History.FollowUp_Difference > 0 ? 'red':' black' }">{{History["Next_FollowUp_Date"]}}</span></div> -->
  <!-- <div class="pr-3">Amount:<span class=" text-dark" >{{History["Actual_FollowUp_Date"]}}</span></div> -->
  <div class="pr-3"style=" width:250px;">By:<span class=" text-dark" >{{History["By_User_Name"]}}</span></div>
  <!-- <div class="pr-3">By:<span class=" text-dark" >{{History["By_User_Name"]}}</span></div> -->

  <!-- <div class="pr-3">Description : <span >{{Receipt_data_1["Description"]}}</span></div>  -->

</div>    
<div>

</div>

</div>
<div *ngIf="History.Entry_Type==5" class="d-flex flex-wrap mb-0" >
              
<div class="d-flex flex-wrap mb-1"  >
  <!-- <div class="pr-3"><span class=" text-dark" style="margin-left: -16px">{{History["Entry_Caption"]}}:</span></div> -->
  <div class="pr-3"> <span> <mat-icon class="icon-backgroundcourse mr-1 text-orange small" style="margin-top: -1px;
      " >email</mat-icon></span></div>
              <div class="pr-3"><span class=" text-dark" style=" width: 150px;margin-left: -19px">{{History["Entry_Caption"]}}:</span></div>

  <div class="pr-3"style=" width:200px;"> On:<span class=" text-dark" >{{History["Entry_Date"]}}</span></div>
  <!-- <div class="pr-3"style=" width:250px;"> Branch: <span class=" text-dark" >{{History["Branch_Name"]}}</span></div> -->
  <!-- <div class="pr-3">Description:<span class=" text-dark" >{{History["Remark"]}}</span></div>
  
  <div class="pr-3">Department: <span class=" text-dark" >{{History["Department_Name"]}}</span></div>
  <div class="pr-3">Fees Name: <span class=" text-dark" >{{History["Status_Name"]}}</span></div> -->
  <!-- <div class="pr-3">FollowUp On:<span   [hidden]="History.FollowUp==0" [ngStyle]="{'color':History.FollowUp_Difference > 0 ? 'red':' black' }">{{History["Next_FollowUp_Date"]}}</span></div> -->
  <!-- <div class="pr-3">Amount:<span class=" text-dark" >{{History["Actual_FollowUp_Date"]}}</span></div> -->
  <div class="pr-3"style=" width:250px;">By:<span class=" text-dark" >{{History["By_User_Name"]}}</span></div>
  <!-- <div class="pr-3">By:<span class=" text-dark" >{{History["By_User_Name"]}}</span></div> -->

  <!-- <div class="pr-3">Description : <span >{{Receipt_data_1["Description"]}}</span></div>  -->

</div>    
<div>

</div>

</div>

      </div>
      
  </div>
<!-- </div> -->
</div></div></div>
</div>

</div>
<!-- <div class="form-group">  
  <div class="col-md-6" style="float: right;">                    
<button mat-raised-button type="submit" (click)="previous_Click()"  class="btn btn-danger change-colour-button buttons-next-previous-edit-portion p-2" style="background: none;"><i class="fa fa-chevron-left" aria-hidden="true" style="color:#5f6368;"></i></button>
<button mat-raised-button type="submit"  (click)="Next_Click()" class="btn btn-danger change-colour-button buttons-next-previous-edit-portion p-2" style="background: none;"><i class="fa fa-chevron-right" aria-hidden="true" style="color: #5f6368;"></i></button>
</div>
</div> -->
</div>
</div>  